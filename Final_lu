## Lu

#### IMU
 
O MQTT, protocolo utilizado para o envio de mensagens do microcontrolador ESP8266 para o Kernel inicialmente foi desenvolvido 
com base em TCP/IP. Entretanto, ao fazer a integração com software e os possíveis testes do sistema de envio e recebimento de dados
observou-se que a taxa de amostragem estava muito abaixo do esperado, o máximo com esse protocolo chegou a 50 Hz, isso porque esse 
tipo de protocolo ao enviar uma mensagem recebe uma outra mensagem avisando que a mensagem foi entregue, isso de certo modo interfere 
no período de envio de outras mensagem. Para o desenvolvimento de um sistema em tempo real, esse resultado não estava satisfatório,
o processamento da ESP8266 estava de acordo com o esperado, porém, as publicações estavam ocorrendo de forma muito lenta. 


Para que a integração eletrônica/software fosse realizada o código de aquisição de leitura dos dados da IMU foi alterado para o 
protocolo MQTT-SN (MQTT for Sensor Network), isso porque esse protocolo em específico não depende do TCP/IP para que suas funcionalidades
sejam atendidas. Esse protocolo é muito utilizado em projetos de IoT que precisam da utilização de baterias como fonte de alimentação. 
No caso desse projeto, foi preciso utilizarmos a camada de internet UDP, o tamanho mínimo da mensagem para esse protocolo é de 1 byte. Um ponto 
importante que auxilia a velocidade é que esse protocolo possibilita suporte ao ID, tornando a comunicação mais rápida, devido a resução
de processamento e memória. Com a utilização desse protocolo  a taxa de amostragem do sistema ficou em 100 Hz, o que possibilitou 
receber os dados para o tratamento dos dados da IMU no sistema de software.

### Resultados da Integração


Energia:

Software:

Estrutura:

Para a disposição dos componentes eletrônicos, para que os fios não ficassem espalhados e pudessem ter um bom funcionamento, 
sem possíveis danos e mal contatos, foi desenvolvido o case, ele dispõe de parteleiras, em que foi possível acoplar todos os fios, módulo relé, 
placa de conexão, raspberry Pi 3, botões e o visualizador. Desse modo, os componentes ficaram organizados e livremente distribuidos.
A Figura XX apresenta  a parte externa do case e a Figura XX mostra o interior com os componentes eletrônicos em seus lugares específicos.

Figuras Case externo/interno


Outro ponto da integração foi com relação a célula de carga, para o sistema Watt, foi contruido uma estrutura de apoio em que a célula
ficou posicionada com um ângulo de 45 graus em relação a estrutura de perfil. Esse ângulo foi utilizado para o cálculo da força. A lixa 
que localiza-se na superfície permite que o pé do atleta não deslize, proporcionando maior estabilidade. O velcro localizado apenas na parte superior permite 
que a parte inferior dos pés possa se movimentar para alcançar maior amplitude da remada.

Foto da célula de carga na estrutura
